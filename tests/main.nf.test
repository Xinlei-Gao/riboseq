nextflow_pipeline {

    name "Test Pipeline main.nf"
    script "../main.nf"

    tag "pipeline"
    tag "pipeline_riboseq"

    test("Should run without failures") {

        when {
            params {
                outdir = "results"
                input = 'https://raw.githubusercontent.com/nf-core/test-datasets/riboseq/testdata/samplesheet.csv'
                fasta = 'http://ftp.ensembl.org/pub/release-110/fasta/mus_musculus/dna/Mus_musculus.GRCm39.dna.chromosome.19.fa.gz'
                gtf = 'http://ftp.ensembl.org/pub/release-110/gtf/mus_musculus/Mus_musculus.GRCm39.110.gtf.gz'
                min_trimmed_reads = 1000
            }
        }

        then {
            assert workflow.success
        }

    }

}
